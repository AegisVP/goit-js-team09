!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=n);var i=n("kvC6y"),s=n("dIxxU");const l={watchedButton:document.querySelector('.btn-lib[aria-label="Watched"]'),gallery:document.querySelector(".gallery"),queueButton:document.querySelector('.btn-lib[aria-label="Queue"]')};async function c(t){const a=new URLSearchParams({api_key:"ad24807293275bef83ede161311e71e0"});return await e(s).get(`https://api.themoviedb.org/3/movie/${t}?${a}`).then((e=>200!==e.status?Promise.reject(`Error: ${e.message}`):e.data)).catch((e=>Promise.reject((e=>alert("Something wrong with request to server!")))))}l.watchedButton.addEventListener("click",o),l.queueButton.addEventListener("click",(function(){l.queueButton.classList.add("button--accent"),l.watchedButton.classList.remove("button--accent"),l.gallery.innerHTML="";let e=JSON.parse(localStorage.getItem("queueResult"));if(null==e)return(0,i.default)(!1),void(l.gallery.innerHTML='<img src="https://cases.media/image/wide/54ce0f4a-2dbd-4745-acf9-cc9a8c349cfd.jpg" max-width = "1000px" max-height = \'700px\'>');for(let t=0;t<e.length;t++)c(e[t]).then((e=>{l.gallery.innerHTML+=`<div class="filmCard" data-id="${e.id}">\n         <div class="filmCard-thumb">\n         <picture>\n            <source srcset="${d(300,e.poster_path)} 1x, ${d(500,e.poster_path)} 2x" media="(max-width: 767px)" />\n            <source srcset="${d(400,e.poster_path)} 1x, ${d(500,e.poster_path)} 2x" media="(min-width: 768px)" />\n            <img\n            src="${d(300,e.poster_path)}"\n            width="280"\n            height="398"\n            alt="Film poster"}>\n            </img>\n         </picture>\n         </div>\n         <p class="filmCard-title">${e.title}</p>\n         <div class="filmCard-description">\n         <p class="filmCard-genres">${p(e.genres)}</p>\n            <p class="filmCard-release">${e.release_date.slice(0,4)}</p>\n            <p class="filmCard-rate">${e.vote_average}</p>\n         </div>\n      </div>`}));(0,i.default)(!1)}));const d=(e,t)=>t?`https://image.tmdb.org/t/p/w${e}${t}`:` https://via.placeholder.com/${e}x${1.5*e}/fbf7f7c1/8c8c8c/?text=No+Poster`;function o(){l.watchedButton.classList.add("button--accent"),l.queueButton.classList.remove("button--accent"),l.gallery.innerHTML="";let e=JSON.parse(localStorage.getItem("watchedResult"));if(null==e)return(0,i.default)(!1),void(l.gallery.innerHTML='<img src="https://cases.media/image/wide/54ce0f4a-2dbd-4745-acf9-cc9a8c349cfd.jpg" max-width = "1000px" max-height = \'700px\'>');for(let t=0;t<e.length;t++)c(e[t]).then((e=>{l.gallery.innerHTML+=`<div class="filmCard" data-id="${e.id}">\n         <div class="filmCard-thumb">\n         <picture>\n            <source srcset="${d(300,e.poster_path)} 1x, ${d(500,e.poster_path)} 2x" media="(max-width: 767px)" />\n            <source srcset="${d(400,e.poster_path)} 1x, ${d(500,e.poster_path)} 2x" media="(min-width: 768px)" />\n            <img\n            src="${d(300,e.poster_path)}"\n            width="280"\n            height="398"\n            alt="Film poster"}>\n            </img>\n         </picture>\n         </div>\n         <p class="filmCard-title">${e.title}</p>\n         <div class="filmCard-description">\n         <p class="filmCard-genres">${p(e.genres)}</p>\n            <p class="filmCard-release">${e.release_date.slice(0,4)}</p>\n            <p class="filmCard-rate">${e.vote_average}</p>\n         </div>\n      </div>`}));(0,i.default)(!1)}function p(e){const t=JSON.parse(localStorage.getItem("genres")),a=[];for(let r=0;r<e.length;r++)for(let n=0;n<t.length;n++)e[r].id===t[n].id&&a.push(t[n].name);return a.length>=3?a.slice(0,2).join(", ")+", Other":a.join(", ")}o()}();
//# sourceMappingURL=library.284a585a.js.map
